<!doctype html><html><head>    <title>СБУ против IT</title>          <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"/>        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>    <style type="text/css">    .sector{        writing-mode: tb;         glyph-orientation-vertical: 0;        font-size: 16px;         font-family: Arial;    }    #idInfo{        font-family: Arial;    }    .button {   display: inline-block;  padding: 15px 25px;  font-size: 24px;  cursor: pointer;  text-align: center;     text-decoration: none;  outline: none;         color: #0f0f0f;         background-color: gray;         border: none;         border-radius: 15px;  }.button:hover {background-color: #a7a7a7}.button:active {  background-color: #a7a7a7;  }    </style></head><body style="background-image: url(sbu.gov.jpg); opacity: 1;"><div style="float: left;width: 600px;height: 600px;" >    <svg  id="body1" xmlns="http://www.w3.org/2000/svg"     xmlns:xlink="http://www.w3.org/1999/xlink" width="600px" height="600px"><g transform="translate(180,200) rotate(0,180,200)" style="fill:none; stroke:white;">    <polygon points="180,20 200,-5 160,-5" style="fill:white" />    <g id="g1" transform="rotate(0,180,200)" >        <text transform="rotate(22,180,200)"  textLength="180"  x="180" y="20" class="sector">1</text>        <text transform="rotate(67,180,200)"  textLength="180"  x="180" y="20" style="writing-mode: tb; glyph-orientation-vertical: 0;font-size: 15px; font-family: Verdana;">2</text>        <text transform="rotate(112,180,200)" textLength="180"  x="180" y="20" class="sector"> 3</text>        <text transform="rotate(157,180,200)" textLength="180"  x="180" y="20" class="sector"> 4</text>        <text transform="rotate(202,180,200)" textLength="180"  x="180" y="20" class="sector"> 5</text>        <text transform="rotate(247,180,200)" textLength="180"  x="180" y="20" class="sector"> 6</text>        <text transform="rotate(292,180,200)" textLength="180"  x="180" y="20" class="sector"> 7</text>        <text transform="rotate(337,180,200)" textLength="180"  x="180" y="20" class="sector"> 8</text><g transform="translate(180,200)">            <circle cx="0" cy="0" r="200"/>    <line x1="0" y1="0" x2="0" y2="200"/>    <line x1="0" y1="0" x2="0" y2="200" transform="rotate(45)"/>    <line x1="0" y1="0" x2="200" y2="0"/>    <line x1="0" y1="0" x2="200" y2="0" transform="rotate(45)"/>    <line x1="0" y1="0" x2="-200" y2="0"/>    <line x1="0" y1="0" x2="-200" y2="0" transform="rotate(45)"/>    <line x1="0" y1="0" x2="0" y2="-200"/>    <line x1="0" y1="0" x2="0" y2="-200"transform="rotate(45)"/></g>    </g></g></svg> </div><div style="width: 200px;height: 600px;vertical-align: bottom;display: table-cell;">    <div>                <button class="button" onclick="startAnimation();">Следующий</button>    </div>    <br/></div>    <div align="center" style="position: absolute; left: 800px; top: 300px;"><div class="pluso" data-background="transparent" data-options="medium,round,multiline,horizontal,nocounter,theme=04" data-services="vkontakte,odnoklassniki,facebook,twitter,google,moimir,email,print" data-url="https://dl.dropboxusercontent.com/u/21482811/wheel.html" data-title="СБУ против UA IT" data-user="664960216"></div>    </div><br style="clear: both;" /><div id="idInfo" style="position: absolute; left: 800px; top: 100px; stroke:white;font-size: 15px;color: #f8f8f8"><h2> Company</h2> <h3> </h3> </div><script>    var wheelMapping = ["Divan.TV","Infopulse","DataArt","LuckyLubs","Ciklum"," Zfort","SoftServe","Luxsoft"];    var company =  wheelMapping;    function fillWheel(_wheel,_company){        $(_wheel).find("text").each(function( index, element ) {            $( element ).text(_company[_company.length-1-index]); // element == this            console.log(index+"-"+_company[index]);        });    }    var message = ["Встречная проверка",    "Перепутали этаж",    "Постонавление суда на другом конце страны",    "Поддержка сепаратизма",    "Поддержка НВФ",    "Поиск нелицензионного ПО",    "Аномальная сетевая активность с IP офиса",    "Прокурорская проверка",    "Проверка НАБУ"];    function getRndMsg(){               return message[Math.floor(Math.random() * message.length)];;    }        var timerFunction = null;    var degrees=0;    var spin_stop=0;    $(document).ready(function(){                fillWheel("#g1",company);    });      function startAnimation() {        if(timerFunction == null) {            var mr=Math.random();                degrees=Math.floor((mr * (360-45)) + 1)+45;                                $('#idInfo').hide();                $('#idInfo h2,h3').html("");                timerFunction = setInterval(spin, 10);        }               }    function stopAnimation() {        if(timerFunction != null){            clearInterval(timerFunction);            timerFunction = null;        }          degrees  = spin_stop % 360;          var segment = Math.floor(degrees/45);  //divided by         $('#idInfo h2').html(wheelMapping[segment]);                      $('#idInfo h3').html("Причина: "+getRndMsg());                      $('#idInfo').fadeIn(300);              }      function spin(){        var arrayTransfom=fetchRotate("g1");        var newX = 1 + parseInt(arrayTransfom[0]);                console.log(newX+" > "+ degrees+"|"+spin_stop);        if(newX > (degrees+spin_stop)) {            spin_stop = newX-1;            stopAnimation();                  } else {            arrayTransfom[0]=newX;            setRotate("g1",arrayTransfom);                    }    }    function setRotate(element,arrayTransfom){        var text1 = $('#'+element);       // text1.setAttribute("transform", "rotate("+arrayTransfom.join(",")+")");       text1.attr("transform", "rotate("+arrayTransfom.join(",")+")");    }    function fetchRotate(element){        var text1 = $('#'+element);        var x = text1.attr("transform");        x=x.substring(7,x.length-1);              return ar=x.split(',');    }</script><script type="text/javascript">(function() {  if (window.pluso)if (typeof window.pluso.start == "function") return;  if (window.ifpluso==undefined) { window.ifpluso = 1;    var d = document, s = d.createElement('script'), g = 'getElementsByTagName';    s.type = 'text/javascript'; s.charset='UTF-8'; s.async = true;    s.src = ('https:' == window.location.protocol ? 'https' : 'http')  + '://share.pluso.ru/pluso-like.js';    var h=d[g]('body')[0];    h.appendChild(s);  }})();</script></body></html>